{
  "hash": "490daa4b337fd296e90e752e82ecb365",
  "result": {
    "markdown": "---\ntitle: \"FiveThirtyEight Riddler Challenge: Can You Find The Fish In State Names?\"\ndate: \"2020-05-25\"\ncategories: [fivethirtyeight riddler]\nimage: \"https://upload.wikimedia.org/wikipedia/commons/1/12/Sccav_u0.gif\"\nexecute: \n  warning: false\n  output: true\n---\n\n\n## The Challenge\n\nThis weekend, I attempted to solve my second FiveThirtyEight Riddler challenge:\n\n> Ohio is the only state whose name doesn’t share any letters with the word “mackerel.” It’s strange, but it’s true. But that isn’t the only pairing of a state and a word you can say that about — it’s not even the only fish! Kentucky has “goldfish” to itself, Montana has “jellyfish” and Delaware has “monkfish,” just to name a few. What is the longest “mackerel?” That is, what is the longest word that doesn’t share any letters with exactly one state? (If multiple “mackerels” are tied for being the longest, can you find them all?)\nExtra credit: Which state has the most “mackerels?” That is, which state has the most words for which it is the only state without any letters in common with those words?\n\n## Data prep\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(httr)\nlibrary(rvest)\n\nwords_raw <- \"https://norvig.com/ngrams/word.list\" %>% \n  GET() %>% \n  read_html() %>% \n  html_text()\n\nwords <- str_split(words_raw, \"\\n\")[[1]]\n\nstates <- state.name %>% \n  str_to_lower(.) %>% \n  str_remove_all(., \" \")\n```\n:::\n\n\n## Calculating string intersections (letters in common)\n\n::: {.cell}\n\n```{.r .cell-code}\nstate_word_intersect <- \n  tidyr::expand_grid(words, states) %>% \n  mutate(intersect = map2(words, states, ~Reduce(intersect, strsplit(c(.x, .y), split = \"\")))) %>% \n  mutate(intersect_length = map_dbl(intersect, length))\n```\n:::\n\n\n## Solution\n\n::: {.cell}\n\n```{.r .cell-code}\nword_single_state <- \n  state_word_intersect %>% \n  filter(intersect_length == 0) %>% \n  group_by(words) %>% \n  mutate(state_matches = n()) %>% \n  ungroup() %>% \n  filter(state_matches == 1)\n\nword_single_state %>% \n  mutate(word_length = str_length(words),\n         max_length = max(word_length, na.rm = TRUE)) %>% \n  filter(word_length == max_length) %>% \n  select(words, word_length, states)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 x 3\n  words                   word_length states     \n  <chr>                         <int> <chr>      \n1 counterproductivenesses          23 alabama    \n2 hydrochlorofluorocarbon          23 mississippi\n```\n:::\n:::\n\n\n## Extra credit\n\n::: {.cell}\n\n```{.r .cell-code}\nword_single_state %>% \n  group_by(states) %>% \n  mutate(word_count = n()) %>% \n  ungroup() %>% \n  mutate(max_word_count = max(word_count)) %>% \n  filter(word_count == max_word_count) %>% \n  distinct(states, word_count)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 x 2\n  states word_count\n  <chr>       <int>\n1 ohio        11342\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}