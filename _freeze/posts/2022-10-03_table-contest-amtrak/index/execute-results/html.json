{
  "hash": "1e55c0c1bd35ce608490eaa636bbe20f",
  "result": {
    "markdown": "---\ntitle: \"Table Contest 2022 - Amtrak\"\ndate: \"2022-10-03\"\ncategories: [geospatial, reactable]\ndraft: false\nexecute: \n  warning: false\n  error: false\n  output: true\n---\n\n\nhttps://fonts.google.com/specimen/Recursive\n\nhttps://data-usdot.opendata.arcgis.com/datasets/usdot::amtrak-routes/explore?location=37.808960%2C-122.262498%2C11.00\n\nhttps://data-usdot.opendata.arcgis.com/datasets/usdot::amtrak-stations-1/explore?location=43.819125%2C-91.163876%2C7.85\n\nhttps://www.bts.dot.gov/browse-statistical-products-and-data/state-transportation-statistics/amtrak-ridership\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(reactable)\nlibrary(reactablefmtr)\nlibrary(sf)\n\nstations <- read_rds(here::here(\"data\", \"amtrak\", \"stations.rds\"))\nroutes <- read_rds(here::here(\"data\", \"amtrak\", \"routes.rds\")) %>% st_drop_geometry()\n```\n:::\n\n\n## Routes\n\nRoute\n\n-   Name (wiki link)\n\n-   Logo?\n\n-   Color\n\n-   To/From\n\n-   Distance (Hours)\n\n-   Frequency (daily/weekly/etc)\n\n-   Journey time\n\n-   Types of cars\n\n-   Map with Stations\n\n-   Ridership 2012-2021\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(htmltools)\n\nhtmltools::tags$link(\n  href = \"https://fonts.googleapis.com/css?family=Recursive:400,600,700&display=swap\", \n  rel = \"stylesheet\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<link href=\"https://fonts.googleapis.com/css?family=Recursive:400,600,700&amp;display=swap\" rel=\"stylesheet\"/>\n```\n:::\n\n```{.r .cell-code}\namtrak_table <- \n  reactable(\n    routes,\n    searchable = TRUE,\n    highlight = TRUE,\n    wrap = FALSE,\n    defaultPageSize = 43,\n    columns = list(\n      name = colDef(\n        name = \"Route\",\n        resizable = TRUE,\n        cell = function(value, index) {\n          tags$a(\n            href = paste0('https://en.wikipedia.org/', routes[index, \"url\"]), \n            target = \"_blank\", \n            value)\n        },\n        minWidth = 200\n      ),\n      route = colDef(\n        name = \"Route\",\n        resizable = TRUE,\n        html = TRUE,\n        minWidth = 100\n      ),\n      daily_round_trips = colDef(\n        name = \"Daily Trips\"\n      ),\n      fy2021passengers_1 = colDef(\n        name = \"Passengers (FY2021)\",\n        defaultSortOrder = \"desc\",\n        format = colFormat(separators = TRUE),\n        width = 120,\n        class = \"number\"\n      ),\n      distance = colDef(\n        name = \"Distance (miles)\"\n      ),\n      time = colDef(\n        name = \"Travel time\"\n      ),\n      url = colDef(show = FALSE),\n      type = colDef(show = FALSE),\n      numbers = colDef(show = FALSE),\n      route_miles = colDef(show = FALSE),\n      operation = colDef(show = FALSE),\n      train_set = colDef(show = FALSE),\n      cars = colDef(show = FALSE)\n    )\n  )\n\ndiv(amtrak_table)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div>\n<div id=\"htmlwidget-d94c28d7a57683e5cf7f\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d94c28d7a57683e5cf7f\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"name\":[\"Acela\",\"Adirondack\",\"Amtrak Cascades\",\"Auto Train\",\"Berkshire Flyer\",\"Blue Water\",\"California Zephyr\",\"Capitol Corridor\",\"Capitol Limited\",\"Cardinal\",\"Carolinian\",\"City of New Orleans\",\"Coast Starlight\",\"Crescent\",\"Downeaster\",\"Empire Builder\",\"Empire Service\",\"Ethan Allen Express\",\"Hartford Line\",\"Heartland Flyer\",\"Hiawatha Service\",\"Illini and Saluki\",\"Illinois Zephyr and Carl Sandburg\",\"Keystone Service\",\"Lake Shore Limited\",\"Lincoln Service\",\"Maple Leaf\",\"Missouri River Runner\",\"Northeast Regional\",\"Pacific Surfliner\",\"Palmetto\",\"Pennsylvanian\",\"Pere Marquette\",\"Piedmont\",\"San Joaquins\",\"Silver Meteor\",\"Silver Star\",\"Southwest Chief\",\"Sunset Limited\",\"Texas Eagle\",\"Valley Flyer\",\"Vermonter\",\"Wolverine\"],\"type\":[\"NEC\",\"State-supported\",\"State-supported\",\"Long distance\",\"State-supported\",\"State-supported\",\"Long distance\",\"State-supported\",\"Long distance\",\"Long distance\",\"NEC; State-supported\",\"Long distance\",\"Long distance\",\"Long distance\",\"State-supported\",\"Long distance\",\"State-supported\",\"State-supported\",\"State-supported\",\"State-supported\",\"State-supported\",\"State-supported\",\"State-supported\",\"State-supported\",\"Long distance\",\"State-supported\",\"State-supported\",\"State-supported\",\"NEC; State-supported\",\"State-supported\",\"Long distance\",\"State-supported\",\"State-supported\",\"State-supported\",\"State-supported\",\"Long distance\",\"Long distance\",\"Long distance\",\"Long distance\",\"Long distance\",\"State-supported\",\"NEC; State-supported\",\"State-supported\"],\"route\":[\"Boston – New York – Washington\",\"Montreal – New York\",\"Vancouver – Seattle – Portland – Eugene\",\"Lorton – Sanford\",\"New York - Pittsfield\",\"Chicago – Port Huron\",\"Chicago – Emeryville, California\",\"Auburn – Sacramento – Oakland – San Jose\",\"Chicago – Washington\",\"Chicago – New York\",\"New York – Charlotte\",\"Chicago – New Orleans\",\"Seattle – Los Angeles\",\"New York City – New Orleans\",\"Brunswick – Portland – Boston\",\"Chicago – Spokane – Portland/Seattle\",\"New York – Albany – Niagara Falls\",\"New York – Burlington\",\"Springfield – New Haven\",\"Oklahoma City – Fort Worth\",\"Chicago – Milwaukee\",\"Chicago – Carbondale\",\"Chicago – Quincy\",\"New York – Philadelphia – Harrisburg\",\"New York/Boston – Albany – Chicago\",\"Chicago – St. Louis\",\"New York – Toronto\",\"St. Louis – Kansas City\",\"Boston/Springfield – New York – Washington –Norfolk/Newport News/Roanoke\",\"San Luis Obispo – Goleta – Los Angeles – San Diego\",\"New York City – Savannah\",\"New York – Pittsburgh\",\"Chicago – Grand Rapids\",\"Raleigh – Charlotte\",\"Oakland/Sacramento – Bakersfield\",\"New York – Miami\",\"New York – Miami\",\"Chicago – Los Angeles\",\"New Orleans – Los Angeles\",\"Chicago – San Antonio(through cars to Los Angeles on the Sunset Limited)\",\"Greenfield – Springfield – New Haven\",\"St. Albans – Washington\",\"Chicago – Pontiac\"],\"numbers\":[\"2100–2290\",\"68, 69\",\"500–519\",\"52, 53\",\"1235, 1244\",\"364, 365\",\"5, 6\",\"520–553, 720–751\",\"29, 30\",\"50, 51\",\"79, 80\",\"58, 59\",\"11, 14\",\"19, 20\",\"680–699, 1689\",\"7, 8, 27, 28\",\"230–288\",\"290, 291\",\"405–432, 450–497\",\"821, 822\",\"329–343\",\"390–393\",\"380–383\",\"600–674\",\"48, 49, 448, 449\",\"300–302, 304–307, 318–319\",\"63, 64\",\"311, 316, 318–319\",\"65–67, 82–88, 93–96, 99, 111, 121–196\",\"562–595, 761–794\",\"89, 90\",\"42, 43\",\"370, 371\",\"73–78\",\"701–719\",\"97, 98\",\"91, 92\",\"3, 4\",\"1, 2\",\"21, 22, 421, 422\",\"400, 461, 471, 478, 488, 494, 495, 499\",\"54, 55, 56, 57\",\"350–355\"],\"daily_round_trips\":[\"16 (weekday), 4 (Sat), 9 (Sun)\",\"Suspended\",\"4\",\"1\",\"1 weekly round trip\",\"1\",\"1\",\"9 (weekday), 9 (weekend)\",\"1\",\"3 weekly round trips\",\"1\",\"1\",\"1\",\"1\",\"5\",\"1\",\"7 (weekday), 6 (Sat), 7 (Sun)\",\"1\",\"6 (weekday), 4 (Sat), 5 (Sun)\",\"1\",\"7 (Monday-Saturday), 6 (Sunday)\",\"2\",\"2\",\"13 (weekday), 7 (weekend)\",\"1\",\"4\",\"1\",\"2\",\"18 (weekday), 15 (weekend)\",\"10\",\"1\",\"1\",\"1\",\"3\",\"6\",\"1\",\"1\",\"1\",\"3 weekly round trips\",\"1\",\"2\",\"1\",\"3\"],\"fy2021passengers_1\":[\"897,600\",\"117,490 (2019)\",\"181,500\",\"199,400\",\"N/A\",\"98,700\",\"184,700\",\"354,400\",\"96,900\",\"69,100\",\"194,700\",\"100,800\",\"189,600\",\"114,300\",\"205,700\",\"220,700\",\"613,200\",\"12,500\",\"192,600\",\"42,300\",\"241,600\",\"150,100\",\"78,200\",\"394,300\",\"195,900\",\"261,200\",\"245,100\",\"77,200\",\"3,960,000\",\"841,000\",\"147,700\",\"128,500\",\"52,400\",\"92,200\",\"434,100\",\"187,000\",\"187,200\",\"135,900\",\"57,600\",\"151,400\",\"–\",\"18,600\",\"153,900\"],\"route_miles\":[\"456\",\"381\",\"467\",\"855\",\"190\",\"319\",\"2,438\",\"172\",\"764\",\"1,147\",\"704\",\"926\",\"1,377\",\"1,377\",\"145\",\"2,257 (Chicago–Portland)2,206 (Chicago–Seattle)\",\"460\",\"308\",\"63\",\"206\",\"86\",\"310\",\"258\",\"195\",\"1,018 (Chicago – Boston)959 (Chicago – New York)\",\"284\",\"544\",\"283\",\"644 (Boston – Newport News)679 (Boston – Norfolk)682 (Boston – Roanoke)\",\"350\",\"829\",\"444\",\"176\",\"173\",\"318 (Bakersfield–Oakland)280 (Bakersfield–Sacramento)\",\"1,389\",\"1,522\",\"2,256\",\"1,995\",\"1,306 (Chicago – San Antonio)2,728 (Chicago – Los Angeles)\",\"98\",\"611\",\"304\"],\"url\":[\"/wiki/Acela\",\"/wiki/Adirondack_(train)\",\"/wiki/Amtrak_Cascades\",\"/wiki/Auto_Train\",\"/wiki/Berkshire_Flyer\",\"/wiki/Blue_Water_(train)\",\"/wiki/California_Zephyr\",\"/wiki/Capitol_Corridor\",\"/wiki/Capitol_Limited\",\"/wiki/Cardinal_(train)\",\"/wiki/Carolinian_(train)\",\"/wiki/City_of_New_Orleans_(train)\",\"/wiki/Coast_Starlight\",\"/wiki/Crescent_(train)\",\"/wiki/Downeaster_(train)\",\"/wiki/Empire_Builder\",\"/wiki/Empire_Service\",\"/wiki/Ethan_Allen_Express\",\"/wiki/Hartford_Line_(Amtrak)\",\"/wiki/Heartland_Flyer\",\"/wiki/Hiawatha_Service\",\"/wiki/Illini_and_Saluki\",\"/wiki/Illinois_Zephyr_and_Carl_Sandburg\",\"/wiki/Keystone_Service\",\"/wiki/Lake_Shore_Limited\",\"/wiki/Lincoln_Service\",\"/wiki/Maple_Leaf_(train)\",\"/wiki/Missouri_River_Runner\",\"/wiki/Northeast_Regional\",\"/wiki/Pacific_Surfliner\",\"/wiki/Palmetto_(train)\",\"/wiki/Pennsylvanian_(train)\",\"/wiki/Pere_Marquette_(Amtrak_train)\",\"/wiki/Piedmont_(train)\",\"/wiki/San_Joaquins\",\"/wiki/Silver_Meteor\",\"/wiki/Silver_Star_(Amtrak_train)\",\"/wiki/Southwest_Chief\",\"/wiki/Sunset_Limited\",\"/wiki/Texas_Eagle\",\"/wiki/Valley_Flyer_(Amtrak_train)\",\"/wiki/Vermonter_(train)\",\"/wiki/Wolverine_(train)\"],\"distance\":[\"457 miles / 735 km\",\"381 miles / 613 km\",\"466 miles\",\"855 miles / 1376 km\",null,\"319 miles / 513 km\",\"2,438 miles / 3,923 km\",\"168 miles / 270 km\",\"780 miles / 1255 km\",\"1147 miles / 1846 km\",\"704 miles / 1,133 km\",\"934 miles / 1,503 km\",\"1,389 miles / 2,216 km\",\"1377 miles / 2216 km\",\"145 miles / 233 km\",\"2205 miles (Chicago - Seattle)2255 miles (Chicago - Portland)\",\"460 miles\",\"310 miles / 499 km\",\"62 miles / 100 km\",\"206 miles / 331 km\",\"138.4 km / 86 miles\",\"309 miles / 497 km\",\"258 miles / 415 km\",\"195 miles / 314 km\",\"959 miles (New York - Chicago)1018 miles (Boston - Chicago)\",\"284 mile / 457 km\",\"544 miles / 875 km\",\"283 miles / 455 km\",\"644 miles (Boston-Newport News)\",\"350 miles / 563 km\",\"829 miles / 1,334 km\",\"444 miles / 714 km\",null,\"173 miles / 278 km\",\"315 miles / 507 km (Oakland) 282 miles / 454 km (Sacramento)\",\"1389 miles / 2235 km\",\"1522 miles\",\"2,265 miles / 3,644 km\",\"2,764 miles / 4,447 km\",\"1305 miles (CHI - SAS)2728 miles (CHI - LAX)\",\"102 miles / 164 km\",\"605 miles / 973 km\",\"304 miles / 489 km\"],\"operation\":[\"Daily\",\"Daily\",\"Daily\",\"Daily\",null,\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"3 times a week\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",null,\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Daily\",\"Three days weekly\",\"Daily (CHI - SAS) 3 times a week (CHI - LAX)\",\"Daily\",\"Daily\",\"Daily\"],\"time\":[\"6h 30m (Fastest Train)\",\"10h 50m (Northbound Train)\",\"3h 55m（Seattle-Vancouver)6h 10m（Seattle-Eugene)\",\"17h 30m\",null,\"6h 59m (Westbound)\",\"53h 49m\",\"4h 15m\",\"17h 35m (Westbound Train)\",\"28h 00m\",\"12h 55m (Southbound Train)\",\"19h 32m (Southbound)\",\"35h 30m\",\"30h 05m\",\"2h 25m\",\"45h 10m (Chicago - Seattle)45h 0m (Chicago - Portland)\",\"8h 25m\",\"7h 35m\",\"1h 35m\",\"4h 14m\",\"1h 30m\",\"5h 30m\",\"4h 15m\",\"3h 7m (Fastest Train)\",\"19h 0m (New York - Chicago)22h 50m (Boston - Chicago)\",\"5h 20m (Fastest)\",\"12h 31m\",\"5h 40m\",\"12h 45m (Fastest Train)\",\"8h 30m\",\"14h 20m (Southbound Train)\",\"9h 10m (Westbound Train)\",null,\"3h 15m\",\"6h 15m (Oakland)5h 15m (Sacramento)\",\"27h 00m (Southbound)\",\"30h 29m (Southbound)\",\"43h 00m (Westbound)\",\"67h 55m\",\"32h 25m (CHI - SAS)67h 20m (CHI - LAX)\",\"2h 50m\",\"12h 47m (Northbound Train)\",\"6h 19m (Fastest Train)\"],\"train_set\":[\"Acela Train Set\",\"Amfleet\",\"TALGO\",\"Superliner\",null,\"Single Level Cars (Horizon or Amfleet)\",\"Superliner\",\"Bi-level Cars\",\"Superliner\",\"Amfleet II, Viewliner\",\"Amfleet, Viewliner\",\"Superliner\",\"Superliner\",\"Amfleet II, Viewliner, Heritage\",\"Amfleet\",\"Superliner\",\"Amfleet\",\"Amfleet\",\"Amfleet\",\"Bi-level Car (Superliner)\",\"Horizon or Amfleet\",\"Single Level Cars(Amfleet and Horizon)\",\"Single Level Cars(Amfleet and/or Horizon)\",\"Amfleet\",\"Amfleet II, Viewliner, Heritage\",\"Single Level Cars(Amfleet and Horizon)\",\"Amfleet\",\"Single Level Cars(Amfleet and/or Horizon)\",\"Amfleet\",\"Bi-level Surfliner fleet, Single level\",\"Amfleet, Viewliner\",\"Amfleet\",null,\"Heritage\",\"Bi-level Cars\",\"Viewliner, Amfleet, Heritage\",\"Viewliner, Amfleet, Heritage\",\"Superliner\",\"Superliner\",\"Superliner\",\"Amfleet\",\"Amfleet\",\"Single Level Cars (Horizon or Amfleet)\"],\"cars\":[\"First Class, Business, Cafe\",\"Coach, Cafe\",\"Business, Coach, Bistro, Dinner\",\"Sleeper, Coach, Dinner, Sightseer Lounge, Auto Carrier\",null,\"Business class, Coach, Cafe\",\"Sleeper, Coach, Dinner, Lounge, Baggage\",\"Coach, Cafe\",\"Sleeper, Coach, Dinner, Lounge, Baggage\",\"Sleeper, Coach, Dinette\",\"Business, Coach, Lounge, Baggage\",\"Baggege, Sleeper, Coach, Dinner, Sightseer Lounge\",\"Sleeper, Business Class Car, Coach, Dinner, Lounge, Baggage\",\"Sleeper, Coach, Diner, Lounge, Baggage\",\"Business Class, Coach, Cafe\",\"Sleeper, Coach, Dinner, Sightseer Lounge\",\"Business, Coach, Cafe\",\"Business, Coach, Cafe\",\"Coach\",\"Coach, Cafe\",\"Coach\",\"Business Class, Coach, Cafe\",\"Business class, Coach, Cafe\",\"Coach\",\"Sleeper, Coach, Diner, Lounge, Baggage\",\"Business Class, Coach, Cafe\",\"Business, Coach, Cafe\",\"Business Class, Coach, Cafe\",\"Business, Coach, Cafe\",\"Business, Coach, Lounge\",\"Business, Coach, Cafe, Baggage\",\"Business, Coach, Lounge\",null,\"Coach, Cafe\",\"Coach, Cafe\",\"Sleeper, Coach, Diner, Lounge, Baggage\",\"Sleeper, Coach, Diner, Lounge, Baggage\",\"Sleeper, Coach, Diner, Lounge, Baggage\",\"Baggege, Sleeper, Coach, Dinner, Sightseer Lounge\",\"Sleeper, Coach, Dinner, Lounge, Baggage\",\"Coach\",\"Business, Coach, Cafe\",\"Business, Coach, Cafe\"]},\"columns\":[{\"accessor\":\"name\",\"name\":\"Route\",\"type\":\"character\",\"resizable\":true,\"cell\":[{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Acela\",\"target\":\"_blank\"},\"children\":[\"Acela\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Adirondack_(train)\",\"target\":\"_blank\"},\"children\":[\"Adirondack\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Amtrak_Cascades\",\"target\":\"_blank\"},\"children\":[\"Amtrak Cascades\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Auto_Train\",\"target\":\"_blank\"},\"children\":[\"Auto Train\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Berkshire_Flyer\",\"target\":\"_blank\"},\"children\":[\"Berkshire Flyer\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Blue_Water_(train)\",\"target\":\"_blank\"},\"children\":[\"Blue Water\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/California_Zephyr\",\"target\":\"_blank\"},\"children\":[\"California Zephyr\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Capitol_Corridor\",\"target\":\"_blank\"},\"children\":[\"Capitol Corridor\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Capitol_Limited\",\"target\":\"_blank\"},\"children\":[\"Capitol Limited\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Cardinal_(train)\",\"target\":\"_blank\"},\"children\":[\"Cardinal\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Carolinian_(train)\",\"target\":\"_blank\"},\"children\":[\"Carolinian\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/City_of_New_Orleans_(train)\",\"target\":\"_blank\"},\"children\":[\"City of New Orleans\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Coast_Starlight\",\"target\":\"_blank\"},\"children\":[\"Coast Starlight\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Crescent_(train)\",\"target\":\"_blank\"},\"children\":[\"Crescent\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Downeaster_(train)\",\"target\":\"_blank\"},\"children\":[\"Downeaster\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Empire_Builder\",\"target\":\"_blank\"},\"children\":[\"Empire Builder\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Empire_Service\",\"target\":\"_blank\"},\"children\":[\"Empire Service\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Ethan_Allen_Express\",\"target\":\"_blank\"},\"children\":[\"Ethan Allen Express\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Hartford_Line_(Amtrak)\",\"target\":\"_blank\"},\"children\":[\"Hartford Line\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Heartland_Flyer\",\"target\":\"_blank\"},\"children\":[\"Heartland Flyer\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Hiawatha_Service\",\"target\":\"_blank\"},\"children\":[\"Hiawatha Service\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Illini_and_Saluki\",\"target\":\"_blank\"},\"children\":[\"Illini and Saluki\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Illinois_Zephyr_and_Carl_Sandburg\",\"target\":\"_blank\"},\"children\":[\"Illinois Zephyr and Carl Sandburg\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Keystone_Service\",\"target\":\"_blank\"},\"children\":[\"Keystone Service\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Lake_Shore_Limited\",\"target\":\"_blank\"},\"children\":[\"Lake Shore Limited\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Lincoln_Service\",\"target\":\"_blank\"},\"children\":[\"Lincoln Service\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Maple_Leaf_(train)\",\"target\":\"_blank\"},\"children\":[\"Maple Leaf\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Missouri_River_Runner\",\"target\":\"_blank\"},\"children\":[\"Missouri River Runner\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Northeast_Regional\",\"target\":\"_blank\"},\"children\":[\"Northeast Regional\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Pacific_Surfliner\",\"target\":\"_blank\"},\"children\":[\"Pacific Surfliner\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Palmetto_(train)\",\"target\":\"_blank\"},\"children\":[\"Palmetto\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Pennsylvanian_(train)\",\"target\":\"_blank\"},\"children\":[\"Pennsylvanian\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Pere_Marquette_(Amtrak_train)\",\"target\":\"_blank\"},\"children\":[\"Pere Marquette\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Piedmont_(train)\",\"target\":\"_blank\"},\"children\":[\"Piedmont\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/San_Joaquins\",\"target\":\"_blank\"},\"children\":[\"San Joaquins\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Silver_Meteor\",\"target\":\"_blank\"},\"children\":[\"Silver Meteor\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Silver_Star_(Amtrak_train)\",\"target\":\"_blank\"},\"children\":[\"Silver Star\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Southwest_Chief\",\"target\":\"_blank\"},\"children\":[\"Southwest Chief\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Sunset_Limited\",\"target\":\"_blank\"},\"children\":[\"Sunset Limited\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Texas_Eagle\",\"target\":\"_blank\"},\"children\":[\"Texas Eagle\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Valley_Flyer_(Amtrak_train)\",\"target\":\"_blank\"},\"children\":[\"Valley Flyer\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Vermonter_(train)\",\"target\":\"_blank\"},\"children\":[\"Vermonter\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://en.wikipedia.org//wiki/Wolverine_(train)\",\"target\":\"_blank\"},\"children\":[\"Wolverine\"]}],\"minWidth\":200},{\"accessor\":\"type\",\"name\":\"type\",\"type\":\"character\",\"show\":false},{\"accessor\":\"route\",\"name\":\"Route\",\"type\":\"character\",\"resizable\":true,\"html\":true,\"minWidth\":100},{\"accessor\":\"numbers\",\"name\":\"numbers\",\"type\":\"character\",\"show\":false},{\"accessor\":\"daily_round_trips\",\"name\":\"Daily Trips\",\"type\":\"character\"},{\"accessor\":\"fy2021passengers_1\",\"name\":\"Passengers (FY2021)\",\"type\":\"character\",\"defaultSortDesc\":true,\"format\":{\"cell\":{\"separators\":true},\"aggregated\":{\"separators\":true}},\"width\":120,\"className\":\"number\"},{\"accessor\":\"route_miles\",\"name\":\"route_miles\",\"type\":\"character\",\"show\":false},{\"accessor\":\"url\",\"name\":\"url\",\"type\":\"character\",\"show\":false},{\"accessor\":\"distance\",\"name\":\"Distance (miles)\",\"type\":\"character\"},{\"accessor\":\"operation\",\"name\":\"operation\",\"type\":\"character\",\"show\":false},{\"accessor\":\"time\",\"name\":\"Travel time\",\"type\":\"character\"},{\"accessor\":\"train_set\",\"name\":\"train_set\",\"type\":\"character\",\"show\":false},{\"accessor\":\"cars\",\"name\":\"cars\",\"type\":\"character\",\"show\":false}],\"searchable\":true,\"defaultPageSize\":43,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"highlight\":true,\"nowrap\":true,\"dataKey\":\"dfa02b298c0c08db71437eb2616d0c58\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(plotly)\n\namtrak_route_plot <- \n  amtrak_rout_sf %>% \n  mutate(\n    PLOT = map(\n      geometry,\n      ~ggplotly(ggplot(data = .x) +\n          geom_sf() +\n          theme_void())\n      )) %>% \n  st_drop_geometry()\n\nreactable(amtrak_route_plot %>% \n            select(NAME), details = function(index) {\n              amtrak_route_plot$PLOT[[index]]\n            })\n\nreactable(amtrak_route_plot %>% select(STATION), details = function(index) {\n  htmltools::plotTag(amtrak_route_plot$PLOT[[index]], alt=\"plots\")\n})\n\nreactable(\n  amtrak_route_plot,\n  columns = list(\n    route = colDef(cell = function(PLOT){\n      p <- ggplotly(PLOT, height = 100)\n      return(p)\n    })\n  )\n)\n\n%>% \n  reactable()\n\namtrak_rout_sf %>% \n  ggplot() +\n  geom_sf(color = \"purple\") +\n  theme_void()\n\nreactable(amtrak_rout_sf, columns = list(\n  PLOT = colDef(cell = function(value){\n    subRoute <- amtrak_rout_sf[amtrak_rout_sf$NAME==value,]\n    p<-ggplotly(\n      ggplot(subRoute, aes(color = NAME)) + geom_sf()+ theme_void(),\n      height = 100\n    )\n    return(p)\n  })\n))\n```\n:::\n\n\n\n\nStations\n\n-   Icon\n\n-   Name (wiki link)\n\n-   Location (State)\n\n-   Station Type\n\n-   Connections\n\n-   Established Year\n\n-   Notes (seasonal, etc.)\n\n-   Local map\n\n-   Ridership 2012-2021\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreactable(wiki_routes_df, details = function(index) {\n  station_data <- wiki_stations_df %>% unnest(route)\n  station_data <- station_data[station_data$route == wiki_routes_df$name[index], ]\n  htmltools::div(style = \"padding: 1rem\",\n    reactable(station_data, outlined = TRUE)\n  )\n})\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsearch_icon <- function(fill = \"none\") {\n    # Icon from https://boxicons.com\n    svg <- sprintf('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path fill=\"%s\" d=\"M10 18c1.85 0 3.54-.64 4.9-1.69l4.4 4.4 1.4-1.42-4.39-4.4A8 8 0 102 10a8 8 0 008 8.01zm0-14a6 6 0 11-.01 12.01A6 6 0 0110 4z\"/></svg>', fill)\n    sprintf(\"url('data:image/svg+xml;charset=utf-8,%s')\", URLencode(svg))\n}\n\ntest <- browsable(tags$i(search_icon()))\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/core-js-2.5.3/shim.min.js\"></script>\r\n<script src=\"../../site_libs/react-17.0.0/react.min.js\"></script>\r\n<script src=\"../../site_libs/react-17.0.0/react-dom.min.js\"></script>\r\n<script src=\"../../site_libs/reactwidget-1.0.0/react-tools.js\"></script>\r\n<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\r\n<script src=\"../../site_libs/reactable-binding-0.3.0/reactable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}